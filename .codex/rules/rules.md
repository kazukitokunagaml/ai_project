# Project Rules

**AIが既に知っている一般常識は書かない。本プロジェクト固有の判断のみ記載する。**

> **自己更新**: 新しい技術選択やパターンが生まれたら、理由とともにここに追記せよ。
> 実コードと矛盾するルールを見つけたら、実コードに合わせて修正せよ。

---

## 技術選択と理由

> プロジェクトで採用した技術について「何を」だけでなく「なぜ」を書く。理由があることでAIが文脈に応じた判断ができる。

- `pydantic.BaseModel` > `dataclass` — バリデーション付きデータ構造が必要なため
- `httpx` > `requests` — async 対応のため
- `pathlib.Path` 統一 — `os.path` は使わない。型安全性と可読性のため
- 型ヒント必須、`Any` 原則禁止 — ruff + mypy で静的検証するため

## テスト

- バグ修正は「再現テスト → 修正 → テストパス」の順
- 外部依存のモックには `pytest-mock`

## Git

- Conventional Commits: `feat|fix|docs|refactor|test|chore(scope): description`
- 1コミット = 1つの論理的変更

## ディレクトリ構成

> **自己更新**: ディレクトリを作成・変更したらここを実態に合わせよ。

```
(プロジェクト初期段階のため、構成確定時に記載する)
```

## コード例

> **自己更新**: プロジェクト固有のパターンが生まれたら具体例をここに追加せよ。
> 汎用的なパターン（AAA テスト等）は書かない。このプロジェクト特有の書き方のみ。

```
(実コードが生まれた段階で記載する)
```

## HANDOFF.md フォーマット

セッション引き継ぎ時に作成する `HANDOFF.md` は以下の構成とせよ:

```markdown
# Session Handoff

## 現在の状況
（何をしていたか、どこまで完了したか）

## 未完了タスク
- [ ] タスク1

## 注意事項
（次のセッションで気をつけるべきこと）

## 関連ファイル
（変更中のファイルパス）
```
